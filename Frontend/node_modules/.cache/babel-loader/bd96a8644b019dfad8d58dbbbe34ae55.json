{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\frontend\\\\src\\\\views\\\\Keyword.js\";\nimport React from \"react\"; // react plugin used to create google maps\n\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, FormGroup, Form, Input, Container, Row, Col } from \"reactstrap\"; // core components\n\nimport Header from \"components/Headers/Header.js\";\n\nvar Keyword = /*#__PURE__*/function (_React$Component) {\n  _inherits(Keyword, _React$Component);\n\n  var _super = _createSuper(Keyword);\n\n  function Keyword() {\n    var _this;\n\n    _classCallCheck(this, Keyword);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      keywordData: [],\n      rows: [{\n        name: \"\",\n        weight: null,\n        id: \"\"\n      }],\n      name: \"\",\n      Weight: null,\n      isLoding: false,\n      isDisabled: true\n    };\n\n    _this.handleChangeWeight = function (idx) {\n      return function (e) {\n        var newKeywords = _this.state.rows.map(function (data, sidx) {\n          if (idx !== sidx) return data;\n          return _objectSpread(_objectSpread({}, data), {}, {\n            weight: e.target.value\n          });\n        });\n\n        _this.setState({\n          rows: newKeywords\n        });\n      };\n    };\n\n    _this.handleChangeKeyword = function (idx) {\n      return function (e) {\n        var newKeywords = _this.state.rows.map(function (data, sidx) {\n          if (idx !== sidx) return data;\n          return _objectSpread(_objectSpread({}, data), {}, {\n            name: e.target.value\n          });\n        });\n\n        _this.setState({\n          rows: newKeywords\n        });\n      };\n    };\n\n    _this.handleAddRow = function () {\n      var item = {\n        name: \"\",\n        weight: null,\n        id: \"\"\n      };\n\n      _this.setState({\n        rows: [].concat(_toConsumableArray(_this.state.rows), [item])\n      });\n    };\n\n    _this.handleRemoveSpecificRow = function (id, idx) {\n      return function () {\n        if (id) {\n          _this.deleteKeyword(id);\n        } else {\n          var rows = _toConsumableArray(_this.state.rows);\n\n          rows.splice(idx, 1);\n\n          _this.setState({\n            rows\n          });\n        }\n      };\n    };\n\n    _this.getKeywords = function () {\n      RestAPI.cloudChart().then(function (response) {\n        var rowArray = [];\n\n        if (response && response.data) {\n          for (var _i = 0; _i < response.data.length; _i++) {\n            rowArray.push({\n              name: response.data[_i].keyword,\n              weight: response.data[_i].weight,\n              id: response.data[_i].id\n            });\n          }\n        }\n\n        _this.setState({\n          isLoding: false,\n          rows: rowArray\n        });\n\n        var inputs = document.getElementsByTagName(\"Input\");\n\n        for (var i = 0; i < inputs.length; i++) {\n          if (inputs[i].id === \"keyword\") {\n            inputs[i].disabled = true;\n          }\n        }\n      }).catch(function (error) {\n        _this.setState({\n          isLoding: false\n        });\n\n        handleServerErrors(error, toast.error);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      RestAPI.addKeyword(_this.state.rows).then(function (response) {\n        toast.success(\"Your Changes Has Been Successfully Updated!\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 2000\n        });\n        window.location.href = \"/app/cloud-chart\";\n      }).catch(function (error) {\n        _this.setState({\n          isLoding: false\n        });\n\n        handleServerErrors(error, toast.error);\n      });\n    };\n\n    _this.deleteKeyword = function (id) {\n      _this.setState({\n        isLoding: true\n      }, function () {\n        RestAPI.deletekeyword(id).then(function (response) {\n          var newvalue = _this.state.keywordData.filter(function (v, i) {\n            return v.id !== id;\n          });\n\n          _this.setState({\n            isLoding: false,\n            keywordData: _toConsumableArray(newvalue)\n          });\n\n          toast.success(\"Keyword Deleted!\", {\n            position: toast.POSITION.TOP_RIGHT,\n            autoClose: 2000\n          });\n\n          _this.getKeywords();\n        }).catch(function (error) {\n          _this.setState({\n            isLoding: false\n          });\n\n          handleServerErrors(error, toast.error);\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Keyword, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        isLoding: true\n      }, function () {\n        _this2.getKeywords();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Container, {\n        className: \"mt--7\",\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"order-xl-1\",\n        xl: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"bg-secondary shadow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"bg-white border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 23\n        }\n      }, \"Edit Interest Page\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 23\n        }\n      }, \"In this page you can add your interests which we haven\\u2019t explored or remove the interests which you think it\\u2019s not correct. You can also rate for them from 1-5 to define the importance of your interests. Note that only top 15 interests will be visualized in the word cloud.\")))), this.state.isLoding ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        style: {\n          padding: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Loader, {\n        type: \"Puff\",\n        color: \"#00BFFF\",\n        height: 100,\n        width: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }\n      })) : /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        method: \"post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pl-lg-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 23\n        }\n      }, this.state.rows.map(function (item, idx) {\n        return /*#__PURE__*/React.createElement(Row, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          lg: \"5\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Input, {\n          className: \"form-control-alternative\",\n          id: \"keyword\",\n          name: \"name\",\n          required: true,\n          value: _this3.state.rows[idx].name,\n          onChange: _this3.handleChangeKeyword(idx),\n          placeholder: \"Add Keyword\",\n          type: \"text\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 33\n          }\n        }))), /*#__PURE__*/React.createElement(Col, {\n          lg: \"5\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Input, {\n          className: \"form-control-alternative\",\n          name: \"weight\",\n          value: _this3.state.rows[idx].weight,\n          onChange: _this3.handleChangeWeight(idx),\n          placeholder: \"Weight \",\n          type: \"Number\",\n          required: true,\n          min: \"1\",\n          max: \"5\",\n          step: \"0.1\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 33\n          }\n        }))), /*#__PURE__*/React.createElement(Col, {\n          lg: \"2\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: \"btn btn-outline-danger btn-sm\",\n          style: {\n            marginTop: \"8px\"\n          },\n          onClick: _this3.handleRemoveSpecificRow(_this3.state.rows[idx].id, idx),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 33\n          }\n        }, \"Remove\"))));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          margin: \" 0 53px 0 25px\",\n          justifyContent: \"space-between\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          color: \"green\"\n        },\n        type: \"button\",\n        onClick: this.handleAddRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 27\n        }\n      }, \"Add\")), /*#__PURE__*/React.createElement(\"div\", {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 27\n        }\n      }, \" \", \"Save\", \" \"))))))))));\n    }\n  }]);\n\n  return Keyword;\n}(React.Component);\n\nexport default Keyword;","map":{"version":3,"sources":["C:/Users/Miaomiao/interestminer/frontend/src/views/Keyword.js"],"names":["React","toast","Loader","handleServerErrors","RestAPI","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","Header","Keyword","state","keywordData","rows","name","weight","id","Weight","isLoding","isDisabled","handleChangeWeight","idx","e","newKeywords","map","data","sidx","target","value","setState","handleChangeKeyword","handleAddRow","item","handleRemoveSpecificRow","deleteKeyword","splice","getKeywords","cloudChart","then","response","rowArray","i","length","push","keyword","inputs","document","getElementsByTagName","disabled","catch","error","handleSubmit","preventDefault","addKeyword","success","position","POSITION","TOP_RIGHT","autoClose","window","location","href","deletekeyword","newvalue","filter","v","padding","marginTop","display","margin","justifyContent","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// react plugin used to create google maps\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col,\n} from \"reactstrap\";\n\n// core components\nimport Header from \"components/Headers/Header.js\";\n\nclass Keyword extends React.Component {\n  state = {\n    keywordData: [],\n    rows: [{ name: \"\", weight: null, id: \"\" }],\n    name: \"\",\n    Weight: null,\n    isLoding: false,\n    isDisabled: true,\n  };\n\n  componentDidMount() {\n    this.setState({ isLoding: true }, () => {\n      this.getKeywords();\n    });\n  }\n\n  handleChangeWeight = (idx) => (e) => {\n    const newKeywords = this.state.rows.map((data, sidx) => {\n      if (idx !== sidx) return data;\n      return { ...data, weight: e.target.value };\n    });\n    this.setState({ rows: newKeywords });\n  };\n\n  handleChangeKeyword = (idx) => (e) => {\n    const newKeywords = this.state.rows.map((data, sidx) => {\n      if (idx !== sidx) return data;\n      return { ...data, name: e.target.value };\n    });\n    this.setState({ rows: newKeywords });\n  };\n\n  handleAddRow = () => {\n    const item = {\n      name: \"\",\n      weight: null,\n      id: \"\",\n    };\n    this.setState({\n      rows: [...this.state.rows, item],\n    });\n  };\n\n  handleRemoveSpecificRow = (id, idx) => () => {\n    if (id) {\n      this.deleteKeyword(id);\n    } else {\n      const rows = [...this.state.rows];\n      rows.splice(idx, 1);\n      this.setState({ rows });\n    }\n  };\n\n  getKeywords = () => {\n    RestAPI.cloudChart()\n      .then((response) => {\n        let rowArray = [];\n        if (response && response.data) {\n          for (let i = 0; i < response.data.length; i++) {\n            rowArray.push({\n              name: response.data[i].keyword,\n              weight: response.data[i].weight,\n              id: response.data[i].id,\n            });\n          }\n        }\n        this.setState({\n          isLoding: false,\n          rows: rowArray,\n        });\n        var inputs = document.getElementsByTagName(\"Input\");\n        for (var i = 0; i < inputs.length; i++) {\n          if (inputs[i].id === \"keyword\") {\n            inputs[i].disabled = true;\n          }\n        }\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    RestAPI.addKeyword(this.state.rows)\n      .then((response) => {\n        toast.success(\"Your Changes Has Been Successfully Updated!\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 2000,\n        });\n        window.location.href = \"/app/cloud-chart\";\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  //** DELETE A Keyword **//\n  deleteKeyword = (id) => {\n    this.setState({ isLoding: true }, () => {\n      RestAPI.deletekeyword(id)\n        .then((response) => {\n          const newvalue = this.state.keywordData.filter((v, i) => v.id !== id);\n          this.setState({\n            isLoding: false,\n            keywordData: [...newvalue],\n          });\n\n          toast.success(\"Keyword Deleted!\", {\n            position: toast.POSITION.TOP_RIGHT,\n            autoClose: 2000,\n          });\n          this.getKeywords();\n        })\n        .catch((error) => {\n          this.setState({ isLoding: false });\n          handleServerErrors(error, toast.error);\n        });\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <Header />\n\n        <Container className=\"mt--7\" fluid>\n          <Row>\n            <Col className=\"order-xl-1\" xl=\"12\">\n              <Card className=\"bg-secondary shadow\">\n                <CardHeader className=\"bg-white border-0\">\n                  <Row className=\"align-items-center\">\n                    <Col xs=\"12\">\n                      <h3 className=\"mb-0\">Edit Interest Page</h3>\n                      <p>\n                        In this page you can add your interests which we haven’t\n                        explored or remove the interests which you think it’s\n                        not correct. You can also rate for them from 1-5 to\n                        define the importance of your interests. Note that only\n                        top 15 interests will be visualized in the word cloud.\n                      </p>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                {this.state.isLoding ? (\n                  <div className=\"text-center\" style={{ padding: \"20px\" }}>\n                    <Loader\n                      type=\"Puff\"\n                      color=\"#00BFFF\"\n                      height={100}\n                      width={100}\n                    />\n                  </div>\n                ) : (\n                  <CardBody>\n                    <Form onSubmit={this.handleSubmit} method=\"post\">\n                      <div className=\"pl-lg-4\">\n                        {this.state.rows.map((item, idx) => (\n                          <Row>\n                            <Col lg=\"5\">\n                              <FormGroup>\n                                <Input\n                                  className=\"form-control-alternative\"\n                                  id=\"keyword\"\n                                  name=\"name\"\n                                  required\n                                  value={this.state.rows[idx].name}\n                                  onChange={this.handleChangeKeyword(idx)}\n                                  placeholder=\"Add Keyword\"\n                                  type=\"text\"\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col lg=\"5\">\n                              <FormGroup>\n                                <Input\n                                  className=\"form-control-alternative\"\n                                  name=\"weight\"\n                                  value={this.state.rows[idx].weight}\n                                  onChange={this.handleChangeWeight(idx)}\n                                  placeholder=\"Weight \"\n                                  type=\"Number\"\n                                  required\n                                  min=\"1\"\n                                  max=\"5\"\n                                  step=\"0.1\"\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col lg=\"2\">\n                              <FormGroup>\n                                <Button\n                                  className=\"btn btn-outline-danger btn-sm\"\n                                  style={{ marginTop: \"8px\" }}\n                                  onClick={this.handleRemoveSpecificRow(\n                                    this.state.rows[idx].id,\n                                    idx\n                                  )}\n                                >\n                                  Remove\n                                </Button>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        ))}\n                      </div>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          margin: \" 0 53px 0 25px\",\n                          justifyContent: \"space-between\",\n                        }}\n                      >\n                        <div align=\"left\">\n                          <Button\n                            style={{ color: \"green\" }}\n                            type=\"button\"\n                            onClick={this.handleAddRow}\n                          >\n                            Add\n                          </Button>\n                        </div>\n\n                        <div align=\"right\">\n                          <Button color=\"primary\" type=\"submit\">\n                            {\" \"}\n                            Save{\" \"}\n                          </Button>\n                        </div>\n                      </div>\n                    </Form>\n                  </CardBody>\n                )}\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Keyword;\n"]},"metadata":{},"sourceType":"module"}