{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import{toast}from\"react-toastify\";import Loader from\"react-loader-spinner\";import{handleServerErrors}from\"utils/errorHandler\";import RestAPI from\"../services/api\";// reactstrap components\nimport{Button,Card,CardBody,FormGroup,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Row,Col}from\"reactstrap\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",isLoding:false};_this.handleChange=function(e){var getValue=e.target.value;var getName=e.target.name;_this.setState(function(){return{[getName]:getValue};});};_this._handleSubmit=function(e){e.preventDefault();var data={email:_this.state.email,password:_this.state.password};_this.setState({isLoding:true});RestAPI.userSignIn(data).then(function(response){_this.setState({isLoding:false});if(response.status===200){localStorage.setItem(\"accessToken\",response.data.token);localStorage.setItem(\"name\",response.data.first_name);localStorage.setItem(\"userId\",response.data.id);localStorage.setItem(\"mId\",response.data.id);_this.props.history.push(\"/app/pie-chart/\"+response.data.id);}}).catch(function(error){_this.setState({isLoding:false});handleServerErrors(error,toast.error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:\"5\",md:\"7\"},/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow border-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"px-lg-5 py-lg-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-muted mb-4\"}),this.state.isLoding?/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Loader,{type:\"Puff\",color:\"#00BFFF\",height:100,width:100})):/*#__PURE__*/React.createElement(Form,{role:\"form\",onSubmit:this._handleSubmit,method:\"post\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"input-group-alternative\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-email-83\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Email\",type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputGroup,{className:\"input-group-alternative\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-lock-circle-open\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Password\",type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Button,{className:\"my-4\",color:\"primary\",type:\"submit\"},\"Sign in\"))))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,{xs:\"6\"}),/*#__PURE__*/React.createElement(Col,{className:\"text-right\",xs:\"6\"},/*#__PURE__*/React.createElement(Link,{className:\"text-light\",to:\"/auth/register\"},/*#__PURE__*/React.createElement(\"small\",null,\"Create new account\"))))));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/franc/Desktop/Interest-Miner/Frontend/src/views/Login.js"],"names":["React","Link","toast","Loader","handleServerErrors","RestAPI","Button","Card","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","Login","state","email","password","isLoding","handleChange","e","getValue","target","value","getName","name","setState","_handleSubmit","preventDefault","data","userSignIn","then","response","status","localStorage","setItem","token","first_name","id","props","history","push","catch","error","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Row,\n  Col,\n} from \"reactstrap\";\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    isLoding: false,\n  };\n\n  handleChange = (e) => {\n    let getValue = e.target.value;\n    let getName = e.target.name;\n    this.setState(() => ({ [getName]: getValue }));\n  };\n\n  _handleSubmit = (e) => {\n    e.preventDefault();\n    let data = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    this.setState({ isLoding: true });\n    RestAPI.userSignIn(data)\n      .then((response) => {\n        this.setState({ isLoding: false });\n        if (response.status === 200) {\n          localStorage.setItem(\"accessToken\", response.data.token);\n          localStorage.setItem(\"name\", response.data.first_name);\n          localStorage.setItem(\"userId\", response.data.id);\n          localStorage.setItem(\"mId\", response.data.id);\n          this.props.history.push(\"/app/pie-chart/\" + response.data.id);\n        }\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <Col lg=\"5\" md=\"7\">\n          <Card className=\"bg-secondary shadow border-0\">\n            <CardBody className=\"px-lg-5 py-lg-5\">\n              <div className=\"text-center text-muted mb-4\"></div>\n              {this.state.isLoding ? (\n                <div className=\"text-center\">\n                  <Loader\n                    type=\"Puff\"\n                    color=\"#00BFFF\"\n                    height={100}\n                    width={100}\n                  />\n                </div>\n              ) : (\n                <Form role=\"form\" onSubmit={this._handleSubmit} method=\"post\">\n                  <FormGroup className=\"mb-3\">\n                    <InputGroup className=\"input-group-alternative\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"ni ni-email-83\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Email\"\n                        type=\"email\"\n                        name=\"email\"\n                        value={this.state.email}\n                        onChange={this.handleChange}\n                      />\n                    </InputGroup>\n                  </FormGroup>\n                  <FormGroup>\n                    <InputGroup className=\"input-group-alternative\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"ni ni-lock-circle-open\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={this.handleChange}\n                      />\n                    </InputGroup>\n                  </FormGroup>\n                  <div className=\"text-center\">\n                    <Button className=\"my-4\" color=\"primary\" type=\"submit\">\n                      Sign in\n                    </Button>\n                  </div>\n                </Form>\n              )}\n            </CardBody>\n          </Card>\n          <Row className=\"mt-3\">\n            <Col xs=\"6\"></Col>\n            <Col className=\"text-right\" xs=\"6\">\n              <Link className=\"text-light\" to=\"/auth/register\">\n                <small>Create new account</small>\n              </Link>\n            </Col>\n          </Row>\n        </Col>\n      </>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}