{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Miaomiao\\\\interestminer\\\\Frontend\\\\src\\\\views\\\\Login.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\"; // reactstrap components\n\nimport { Button, Card, CardBody, FormGroup, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Row, Col } from \"reactstrap\";\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      isLoding: false\n    };\n\n    _this.handleChange = function (e) {\n      var getValue = e.target.value;\n      var getName = e.target.name;\n\n      _this.setState(function () {\n        return {\n          [getName]: getValue\n        };\n      });\n    };\n\n    _this._handleSubmit = function (e) {\n      e.preventDefault();\n      var data = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.setState({\n        isLoding: true\n      });\n\n      RestAPI.userSignIn(data).then(function (response) {\n        _this.setState({\n          isLoding: false\n        });\n\n        if (response.status === 200) {\n          localStorage.setItem(\"accessToken\", response.data.token);\n          localStorage.setItem(\"name\", response.data.first_name);\n          localStorage.setItem(\"userId\", response.data.id);\n          localStorage.setItem(\"mId\", response.data.id);\n\n          _this.props.history.push(\"/app/pie-chart/\" + response.data.id);\n        }\n      }).catch(function (error) {\n        _this.setState({\n          isLoding: false\n        });\n\n        handleServerErrors(error, toast.error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n        lg: \"5\",\n        md: \"7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"bg-secondary shadow border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        className: \"px-lg-5 py-lg-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center text-muted mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      }), this.state.isLoding ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Loader, {\n        type: \"Puff\",\n        color: \"#00BFFF\",\n        height: 100,\n        width: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }\n      })) : /*#__PURE__*/React.createElement(Form, {\n        role: \"form\",\n        onSubmit: this._handleSubmit,\n        method: \"post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ni ni-email-83\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Email\",\n        type: \"email\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ni ni-lock-circle-open\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"my-4\",\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, \"Sign in\"))))), /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Col, {\n        className: \"text-right\",\n        xs: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"text-light\",\n        to: \"/auth/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, \"Create new account\"))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Miaomiao/interestminer/Frontend/src/views/Login.js"],"names":["React","Link","toast","Loader","handleServerErrors","RestAPI","Button","Card","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","Login","state","email","password","isLoding","handleChange","e","getValue","target","value","getName","name","setState","_handleSubmit","preventDefault","data","userSignIn","then","response","status","localStorage","setItem","token","first_name","id","props","history","push","catch","error","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Row,\n  Col,\n} from \"reactstrap\";\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    isLoding: false,\n  };\n\n  handleChange = (e) => {\n    let getValue = e.target.value;\n    let getName = e.target.name;\n    this.setState(() => ({ [getName]: getValue }));\n  };\n\n  _handleSubmit = (e) => {\n    e.preventDefault();\n    let data = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    this.setState({ isLoding: true });\n    RestAPI.userSignIn(data)\n      .then((response) => {\n        this.setState({ isLoding: false });\n        if (response.status === 200) {\n          localStorage.setItem(\"accessToken\", response.data.token);\n          localStorage.setItem(\"name\", response.data.first_name);\n          localStorage.setItem(\"userId\", response.data.id);\n          localStorage.setItem(\"mId\", response.data.id);\n          this.props.history.push(\"/app/pie-chart/\" + response.data.id);\n        }\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <Col lg=\"5\" md=\"7\">\n          <Card className=\"bg-secondary shadow border-0\">\n            <CardBody className=\"px-lg-5 py-lg-5\">\n              <div className=\"text-center text-muted mb-4\"></div>\n              {this.state.isLoding ? (\n                <div className=\"text-center\">\n                  <Loader\n                    type=\"Puff\"\n                    color=\"#00BFFF\"\n                    height={100}\n                    width={100}\n                  />\n                </div>\n              ) : (\n                <Form role=\"form\" onSubmit={this._handleSubmit} method=\"post\">\n                  <FormGroup className=\"mb-3\">\n                    <InputGroup className=\"input-group-alternative\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"ni ni-email-83\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Email\"\n                        type=\"email\"\n                        name=\"email\"\n                        value={this.state.email}\n                        onChange={this.handleChange}\n                      />\n                    </InputGroup>\n                  </FormGroup>\n                  <FormGroup>\n                    <InputGroup className=\"input-group-alternative\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"ni ni-lock-circle-open\" />\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={this.handleChange}\n                      />\n                    </InputGroup>\n                  </FormGroup>\n                  <div className=\"text-center\">\n                    <Button className=\"my-4\" color=\"primary\" type=\"submit\">\n                      Sign in\n                    </Button>\n                  </div>\n                </Form>\n              )}\n            </CardBody>\n          </Card>\n          <Row className=\"mt-3\">\n            <Col xs=\"6\"></Col>\n            <Col className=\"text-right\" xs=\"6\">\n              <Link className=\"text-light\" to=\"/auth/register\">\n                <small>Create new account</small>\n              </Link>\n            </Col>\n          </Row>\n        </Col>\n      </>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}