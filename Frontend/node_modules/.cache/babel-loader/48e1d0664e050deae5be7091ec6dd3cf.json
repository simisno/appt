{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{NavLink as NavLinkRRD,Link}from\"react-router-dom\";// nodejs library to set properties for components\nimport Autosuggest from\"react-autosuggest\";import{getItem}from\"utils/localStorage\";import{BASE_URL}from\"../../constants\";import{logout}from\"../../helper/index\";import axios from\"axios\";// reactstrap components\nimport{Collapse,DropdownMenu,DropdownItem,UncontrolledDropdown,DropdownToggle,Form,InputGroupAddon,InputGroup,Media,NavbarBrand,Navbar,NavItem,NavLink,Nav,Container,Row,Col}from\"reactstrap\";import{setItem}from\"utils/localStorage\";function getSuggestionValue(suggestion){// debugger;\nreturn suggestion.first_name;}function renderSuggestion(suggestion){// debugger;\nreturn/*#__PURE__*/React.createElement(Link,{to:\"/app/profile/\".concat(suggestion.id)},/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"10px 20px\"}},\"\".concat(suggestion.first_name,\" \").concat(suggestion.last_name)));}var Sidebar=/*#__PURE__*/function(_React$Component){_inherits(Sidebar,_React$Component);var _super=_createSuper(Sidebar);function Sidebar(props){var _this;_classCallCheck(this,Sidebar);_this=_super.call(this,props);_this.state={collapseOpen:false,dropdownOpen:false,query:\"\",results:[],activeSuggestion:0,showSuggestions:false,popupVisible:false,suggestions:[],value:\"\",userView:false};_this._onBlur=function(){_this.setState({value:\"\"});};_this.getInfo=function(v){var TOKEN=getItem(\"accessToken\");axios({method:\"get\",url:\"\".concat(BASE_URL,\"/api/accounts/user-search/\").concat(v,\"/\"),headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"Token \".concat(TOKEN)}}).then(function(_ref){var data=_ref.data;_this.setState({suggestions:data,popupVisible:!_this.state.popupVisible});});};_this.onChange=function(event,_ref2){var newValue=_ref2.newValue,method=_ref2.method;_this.setState({value:newValue});};_this.onSuggestionsFetchRequested=function(_ref3){var value=_ref3.value;_this.getInfo(value);};_this.onSuggestionsClearRequested=function(){_this.setState({suggestions:[]});};_this.toggle=function(){_this.setState({dropdownOpen:!_this.state.dropdownOpen});};_this.toggleCollapse=function(){_this.setState({collapseOpen:!_this.state.collapseOpen});};_this.closeCollapse=function(){// this.manageUserView();\n_this.setState({collapseOpen:false});};_this.goBackProfile=function(){setItem(\"userId\",getItem(\"mId\"));};_this.createLinks=function(routes){return routes.map(function(prop,key){return/*#__PURE__*/React.createElement(NavItem,{key:key,style:{display:prop.display}},/*#__PURE__*/React.createElement(NavLink,{to:prop.layout+prop.path,tag:NavLinkRRD,onClick:_this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:prop.icon}),prop.name));});};_this.activeRoute.bind(_assertThisInitialized(_this));return _this;}_createClass(Sidebar,[{key:\"activeRoute\",// setDropdownOpen(!dropdownOpen);\n// verifies if routeName is the one active (in browser input)\nvalue:function activeRoute(routeName){return this.props.location.pathname.indexOf(routeName)>-1?\"active\":\"\";}// toggles collapse between opened and closed (true/false)\n},{key:\"render\",value:function render(){var _this$state=this.state,value=_this$state.value,suggestions=_this$state.suggestions;var inputProps={placeholder:\"Search for users..\",value,onChange:this.onChange,onBlur:this._onBlur};var _this$props=this.props,routes=_this$props.routes,logo=_this$props.logo;var navbarBrandProps;if(logo&&logo.innerLink){navbarBrandProps={to:logo.innerLink,tag:Link};}else if(logo&&logo.outterLink){navbarBrandProps={href:logo.outterLink,target:\"_blank\"};}return/*#__PURE__*/React.createElement(Navbar,{className:\"navbar-vertical fixed-left navbar-light bg-white\",expand:\"md\",id:\"sidenav-main\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",onClick:this.toggleCollapse},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(NavbarBrand,Object.assign({className:\"pt-0\"},navbarBrandProps),/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"bolder\",color:\"#1189ef\"}},\"INTEREST MINER\")),/*#__PURE__*/React.createElement(Nav,{className:\"align-items-center d-md-none\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{nav:true},/*#__PURE__*/React.createElement(DropdownToggle,{nav:true},/*#__PURE__*/React.createElement(Media,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"avatar avatar-sm rounded-circle\"}))),/*#__PURE__*/React.createElement(DropdownMenu,{className:\"dropdown-menu-arrow\",right:true},/*#__PURE__*/React.createElement(DropdownItem,{className:\"noti-title\",header:true,tag:\"div\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-overflow m-0\"},\"Welcome!\")),/*#__PURE__*/React.createElement(DropdownItem,{to:\"/app/user-profile\",tag:Link},/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/React.createElement(\"span\",null,\"My profile\")),/*#__PURE__*/React.createElement(DropdownItem,{divider:true}),/*#__PURE__*/React.createElement(DropdownItem,{to:\"/\",onClick:function onClick(e){return logout();}},/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-user-run\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Logout\"))))),/*#__PURE__*/React.createElement(Collapse,{navbar:true,isOpen:this.state.collapseOpen},/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-collapse-header d-md-none\"},/*#__PURE__*/React.createElement(Row,null,logo?/*#__PURE__*/React.createElement(Col,{className:\"collapse-brand\",xs:\"6\"},logo.innerLink?/*#__PURE__*/React.createElement(Link,{to:logo.innerLink},\"INTEREST MINER\"):/*#__PURE__*/React.createElement(\"a\",{href:logo.outterLink},/*#__PURE__*/React.createElement(\"img\",{alt:logo.imgAlt,src:logo.imgSrc}))):null,/*#__PURE__*/React.createElement(Col,{className:\"collapse-close\",xs:\"6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",onClick:this.toggleCollapse},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null))))),/*#__PURE__*/React.createElement(Form,{className:\"mt-4 mb-3 d-md-none\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"input-group-rounded input-group-merge\"},/*#__PURE__*/React.createElement(Autosuggest,{suggestions:suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:getSuggestionValue,renderSuggestion:renderSuggestion,inputProps:inputProps}),/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"}))),getItem(\"userId\")===getItem(\"mId\")&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"navbar-heading text-muted\"},\"Data Management\"),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-2\"}),/*#__PURE__*/React.createElement(Nav,{navbar:true},this.createLinks(routes)),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-3\"})),/*#__PURE__*/React.createElement(\"h6\",{className:\"navbar-heading text-muted\"},\"Visualizations\"),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-2\"}),getItem(\"userId\")!==getItem(\"mId\")&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/user-profile\",tag:NavLinkRRD,onClick:this.goBackProfile,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-chevron-circle-left text-info\"}),\"Return To My Account\"))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/profile/\"+getItem(\"userId\"),tag:NavLinkRRD,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-user text-blue\"}),\"Profile\")))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/pie-chart/\"+getItem(\"userId\"),tag:NavLinkRRD,onClick:this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-chart-pie text-orange\"}),\"Recent Interests\"))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/bar-chart/\"+getItem(\"userId\"),tag:NavLinkRRD,onClick:this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-chart-bar text-pink\"}),\"Activities\"))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/cloud-chart/\"+getItem(\"userId\"),tag:NavLinkRRD,onClick:this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-cloud text-info\"}),\"Interest Overview\"))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/concept-chart/\"+getItem(\"userId\"),tag:NavLinkRRD,onClick:this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-brain text-blue\"}),\"Potential Interests\"))),/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{to:\"/app/stream-chart/\"+getItem(\"userId\"),tag:NavLinkRRD,onClick:this.closeCollapse,activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-wave-square text-green\"}),\"Interest Trends\"))))));}}]);return Sidebar;}(React.Component);Sidebar.defaultProps={routes:[{}]};export default Sidebar;","map":{"version":3,"sources":["C:/Users/franc/Desktop/Interest-Miner/Frontend/src/components/Sidebar/Sidebar.js"],"names":["React","NavLink","NavLinkRRD","Link","Autosuggest","getItem","BASE_URL","logout","axios","Collapse","DropdownMenu","DropdownItem","UncontrolledDropdown","DropdownToggle","Form","InputGroupAddon","InputGroup","Media","NavbarBrand","Navbar","NavItem","Nav","Container","Row","Col","setItem","getSuggestionValue","suggestion","first_name","renderSuggestion","id","padding","last_name","Sidebar","props","state","collapseOpen","dropdownOpen","query","results","activeSuggestion","showSuggestions","popupVisible","suggestions","value","userView","_onBlur","setState","getInfo","v","TOKEN","method","url","headers","Accept","Authorization","then","data","onChange","event","newValue","onSuggestionsFetchRequested","onSuggestionsClearRequested","toggle","toggleCollapse","closeCollapse","goBackProfile","createLinks","routes","map","prop","key","display","layout","path","icon","name","activeRoute","bind","routeName","location","pathname","indexOf","inputProps","placeholder","onBlur","logo","navbarBrandProps","innerLink","to","tag","outterLink","href","target","fontWeight","color","e","imgAlt","imgSrc","Component","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NavLink as NavLinkRRD, Link } from \"react-router-dom\";\n// nodejs library to set properties for components\nimport { PropTypes } from \"prop-types\";\nimport Autosuggest from \"react-autosuggest\";\nimport { getItem } from \"utils/localStorage\";\nimport { BASE_URL } from \"../../constants\";\nimport { logout } from \"../../helper/index\";\nimport axios from \"axios\";\n// reactstrap components\nimport {\n  Collapse,\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n  DropdownToggle,\n  Form,\n  InputGroupAddon,\n  InputGroup,\n  Media,\n  NavbarBrand,\n  Navbar,\n  NavItem,\n  NavLink,\n  Nav,\n  Container,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport { setItem } from \"utils/localStorage\";\n\nfunction getSuggestionValue(suggestion) {\n  // debugger;\n  return suggestion.first_name;\n}\n\nfunction renderSuggestion(suggestion) {\n  // debugger;\n\n  return (\n    <Link to={`/app/profile/${suggestion.id}`}>\n      <div\n        style={{ padding: \"10px 20px\" }}\n      >{`${suggestion.first_name} ${suggestion.last_name}`}</div>\n    </Link>\n  );\n}\n\nclass Sidebar extends React.Component {\n  state = {\n    collapseOpen: false,\n    dropdownOpen: false,\n    query: \"\",\n    results: [],\n    activeSuggestion: 0,\n    showSuggestions: false,\n    popupVisible: false,\n    suggestions: [],\n    value: \"\",\n    userView: false,\n  };\n  constructor(props) {\n    super(props);\n    this.activeRoute.bind(this);\n  }\n\n  _onBlur = () => {\n    this.setState({\n      value: \"\",\n    });\n  };\n\n  // componentDidMount() {\n  //   this.manageUserView();\n  // }\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevState.path == this.state.path) {\n  //     this.manageUserView();\n  //   }\n  // }\n\n  // manageUserView = () => {\n  //   if (matchPath(window.location.pathname, { path: \"/app/profile/:id\" })) {\n  //     console.log(\"ttttttttttt\",this.props)\n  //     this.setState({ userView: true, path: this.props.location.pathname,searchedUserID: getItem(\"Id\") });\n  //   } else {\n  //     this.setState({ userView: false, path: this.props.location.pathname,searchedUserID: getItem(\"Id\") });\n  //   }\n  // };\n\n  //** START SUGGESTION**//\n  getInfo = (v) => {\n    const TOKEN = getItem(\"accessToken\");\n    axios({\n      method: \"get\",\n      url: `${BASE_URL}/api/accounts/user-search/${v}/`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Token ${TOKEN}`,\n      },\n    }).then(({ data }) => {\n      this.setState({\n        suggestions: data,\n        popupVisible: !this.state.popupVisible,\n      });\n    });\n  };\n\n  onChange = (event, { newValue, method }) => {\n    this.setState({\n      value: newValue,\n    });\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.getInfo(value);\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: [],\n    });\n  };\n\n  toggle = () => {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  };\n  // setDropdownOpen(!dropdownOpen);\n  // verifies if routeName is the one active (in browser input)\n  activeRoute(routeName) {\n    return this.props.location.pathname.indexOf(routeName) > -1 ? \"active\" : \"\";\n  }\n  // toggles collapse between opened and closed (true/false)\n  toggleCollapse = () => {\n    this.setState({\n      collapseOpen: !this.state.collapseOpen,\n    });\n  };\n  // closes the collapse\n  closeCollapse = () => {\n    // this.manageUserView();\n    this.setState({\n      collapseOpen: false,\n    });\n  };\n  goBackProfile = () => {\n    setItem(\"userId\", getItem(\"mId\"));\n  };\n  // creates the links that appear in the left menu / Sidebar\n  createLinks = (routes) => {\n    return routes.map((prop, key) => {\n      return (\n        <NavItem key={key} style={{ display: prop.display }}>\n          <NavLink\n            to={prop.layout + prop.path}\n            tag={NavLinkRRD}\n            onClick={this.closeCollapse}\n            activeClassName=\"active\"\n          >\n            <i className={prop.icon} />\n            {prop.name}\n          </NavLink>\n        </NavItem>\n      );\n    });\n  };\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"Search for users..\",\n      value,\n      onChange: this.onChange,\n      onBlur: this._onBlur,\n    };\n\n    const { routes, logo } = this.props;\n    let navbarBrandProps;\n    if (logo && logo.innerLink) {\n      navbarBrandProps = {\n        to: logo.innerLink,\n        tag: Link,\n      };\n    } else if (logo && logo.outterLink) {\n      navbarBrandProps = {\n        href: logo.outterLink,\n        target: \"_blank\",\n      };\n    }\n    return (\n      <Navbar\n        className=\"navbar-vertical fixed-left navbar-light bg-white\"\n        expand=\"md\"\n        id=\"sidenav-main\"\n      >\n        <Container fluid>\n          {/* Toggler */}\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            onClick={this.toggleCollapse}\n          >\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n\n          <NavbarBrand className=\"pt-0\" {...navbarBrandProps}>\n            <span style={{ fontWeight: \"bolder\", color: \"#1189ef\" }}>\n              INTEREST MINER\n            </span>\n          </NavbarBrand>\n\n          {/* User */}\n          <Nav className=\"align-items-center d-md-none\">\n            <UncontrolledDropdown nav>\n              <DropdownToggle nav>\n                <Media className=\"align-items-center\">\n                  <span className=\"avatar avatar-sm rounded-circle\"></span>\n                </Media>\n              </DropdownToggle>\n              <DropdownMenu className=\"dropdown-menu-arrow\" right>\n                <DropdownItem className=\"noti-title\" header tag=\"div\">\n                  <h6 className=\"text-overflow m-0\">Welcome!</h6>\n                </DropdownItem>\n                <DropdownItem to=\"/app/user-profile\" tag={Link}>\n                  <i className=\"ni ni-single-02\" />\n                  <span>My profile</span>\n                </DropdownItem>\n                <DropdownItem divider />\n                <DropdownItem to=\"/\" onClick={(e) => logout()}>\n                  <i className=\"ni ni-user-run\" />\n                  <span>Logout</span>\n                </DropdownItem>\n              </DropdownMenu>\n            </UncontrolledDropdown>\n          </Nav>\n          {/* Collapse */}\n          <Collapse navbar isOpen={this.state.collapseOpen}>\n            {/* Collapse header */}\n            <div className=\"navbar-collapse-header d-md-none\">\n              <Row>\n                {logo ? (\n                  <Col className=\"collapse-brand\" xs=\"6\">\n                    {logo.innerLink ? (\n                      <Link to={logo.innerLink}>INTEREST MINER</Link>\n                    ) : (\n                      <a href={logo.outterLink}>\n                        <img alt={logo.imgAlt} src={logo.imgSrc} />\n                      </a>\n                    )}\n                  </Col>\n                ) : null}\n                <Col className=\"collapse-close\" xs=\"6\">\n                  <button\n                    className=\"navbar-toggler\"\n                    type=\"button\"\n                    onClick={this.toggleCollapse}\n                  >\n                    <span />\n                    <span />\n                  </button>\n                </Col>\n              </Row>\n            </div>\n            {/* Form */}\n            <Form className=\"mt-4 mb-3 d-md-none\">\n              <InputGroup className=\"input-group-rounded input-group-merge\">\n                <Autosuggest\n                  suggestions={suggestions}\n                  onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                  onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                  getSuggestionValue={getSuggestionValue}\n                  renderSuggestion={renderSuggestion}\n                  inputProps={inputProps}\n                />\n\n                <InputGroupAddon addonType=\"prepend\"></InputGroupAddon>\n              </InputGroup>\n            </Form>\n            {getItem(\"userId\") === getItem(\"mId\") && (\n              <>\n                <h6 className=\"navbar-heading text-muted\">Data Management</h6>\n                <hr className=\"my-2\" />\n\n                {/* Navigation */}\n                <Nav navbar>{this.createLinks(routes)}</Nav>\n\n                <hr className=\"my-3\" />\n              </>\n            )}\n            <h6 className=\"navbar-heading text-muted\">Visualizations</h6>\n            <hr className=\"my-2\" />\n            {getItem(\"userId\") !== getItem(\"mId\") && (\n              <>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink\n                      to=\"/app/user-profile\"\n                      tag={NavLinkRRD}\n                      onClick={this.goBackProfile}\n                      activeClassName=\"active\"\n                    >\n                      <i className=\"fa fa-chevron-circle-left text-info\" />\n                      Return To My Account\n                    </NavLink>\n                  </NavItem>\n                </Nav>\n                <Nav navbar>\n                  <NavItem>\n                    <NavLink\n                      to={\"/app/profile/\" + getItem(\"userId\")}\n                      tag={NavLinkRRD}\n                      activeClassName=\"active\"\n                    >\n                      <i className=\"fa fa-user text-blue\" />\n                      Profile\n                    </NavLink>\n                  </NavItem>\n                </Nav>\n              </>\n            )}\n\n            <Nav navbar>\n              <NavItem>\n                <NavLink\n                  to={\"/app/pie-chart/\" + getItem(\"userId\")}\n                  tag={NavLinkRRD}\n                  onClick={this.closeCollapse}\n                  activeClassName=\"active\"\n                >\n                  <i className=\"fas fa-chart-pie text-orange\" />\n                  Recent Interests\n                </NavLink>\n              </NavItem>\n            </Nav>\n\n            <Nav navbar>\n              <NavItem>\n                <NavLink\n                  to={\"/app/bar-chart/\" + getItem(\"userId\")}\n                  tag={NavLinkRRD}\n                  onClick={this.closeCollapse}\n                  activeClassName=\"active\"\n                >\n                  <i className=\"fas fa-chart-bar text-pink\" />\n                  Activities\n                </NavLink>\n              </NavItem>\n            </Nav>\n\n            <Nav navbar>\n              <NavItem>\n                <NavLink\n                  to={\"/app/cloud-chart/\" + getItem(\"userId\")}\n                  tag={NavLinkRRD}\n                  onClick={this.closeCollapse}\n                  activeClassName=\"active\"\n                >\n                  <i className=\"fas fa-cloud text-info\" />\n                  Interest Overview\n                </NavLink>\n              </NavItem>\n            </Nav>\n\n            <Nav navbar>\n              <NavItem>\n                <NavLink\n                  to={\"/app/concept-chart/\" + getItem(\"userId\")}\n                  tag={NavLinkRRD}\n                  onClick={this.closeCollapse}\n                  activeClassName=\"active\"\n                >\n                  <i className=\"fas fa-brain text-blue\" />\n                  Potential Interests\n                </NavLink>\n              </NavItem>\n            </Nav>\n\n            <Nav navbar>\n              <NavItem>\n                <NavLink\n                  to={\"/app/stream-chart/\" + getItem(\"userId\")}\n                  tag={NavLinkRRD}\n                  onClick={this.closeCollapse}\n                  activeClassName=\"active\"\n                >\n                  <i className=\"fas fa-wave-square text-green\"></i>\n                  Interest Trends\n                </NavLink>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Container>\n      </Navbar>\n    );\n  }\n}\n\nSidebar.defaultProps = {\n  routes: [{}],\n};\n\nSidebar.propTypes = {\n  // links that will be displayed inside the component\n  routes: PropTypes.arrayOf(PropTypes.object),\n  logo: PropTypes.shape({\n    // innerLink is for links that will direct the user within the app\n    // it will be rendered as <Link to=\"...\">...</Link> tag\n    innerLink: PropTypes.string,\n    // outterLink is for links that will direct the user outside the app\n    // it will be rendered as simple <a href=\"...\">...</a> tag\n    outterLink: PropTypes.string,\n    // the image src of the logo\n    imgSrc: PropTypes.string.isRequired,\n    // the alt for the img\n    imgAlt: PropTypes.string.isRequired,\n  }),\n};\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}