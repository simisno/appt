{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\franc\\\\Desktop\\\\Interest-Miner\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";// react plugin used to create google maps\nimport{toast}from\"react-toastify\";import Loader from\"react-loader-spinner\";import{handleServerErrors}from\"utils/errorHandler\";import RestAPI from\"../services/api\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col}from\"reactstrap\";// core components\nimport Header from\"components/Headers/Header.js\";var Keyword=/*#__PURE__*/function(_React$Component){_inherits(Keyword,_React$Component);var _super=_createSuper(Keyword);function Keyword(){var _this;_classCallCheck(this,Keyword);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={keywordData:[],rows:[{name:\"\",weight:null,id:\"\"}],name:\"\",Weight:null,isLoding:false,isDisabled:true};_this.handleChangeWeight=function(idx){return function(e){var newKeywords=_this.state.rows.map(function(data,sidx){if(idx!==sidx)return data;return _objectSpread(_objectSpread({},data),{},{weight:e.target.value});});_this.setState({rows:newKeywords});};};_this.handleChangeKeyword=function(idx){return function(e){var newKeywords=_this.state.rows.map(function(data,sidx){if(idx!==sidx)return data;return _objectSpread(_objectSpread({},data),{},{name:e.target.value});});_this.setState({rows:newKeywords});};};_this.handleAddRow=function(){var item={name:\"\",weight:null,id:\"\"};_this.setState({rows:[].concat(_toConsumableArray(_this.state.rows),[item])});};_this.handleRemoveSpecificRow=function(id,idx){return function(){if(id){_this.deleteKeyword(id);}else{var rows=_toConsumableArray(_this.state.rows);rows.splice(idx,1);_this.setState({rows});}};};_this.getKeywords=function(){RestAPI.cloudChart().then(function(response){var rowArray=[];if(response&&response.data){for(var _i=0;_i<response.data.length;_i++){rowArray.push({name:response.data[_i].keyword,weight:response.data[_i].weight,id:response.data[_i].id});}}_this.setState({isLoding:false,rows:rowArray});var inputs=document.getElementsByTagName(\"Input\");for(var i=0;i<inputs.length;i++){if(inputs[i].id===\"keyword\"){inputs[i].disabled=true;}}}).catch(function(error){_this.setState({isLoding:false});handleServerErrors(error,toast.error);});};_this.handleSubmit=function(e){e.preventDefault();RestAPI.addKeyword(_this.state.rows).then(function(response){toast.success(\"Your Changes Has Been Successfully Updated!\",{position:toast.POSITION.TOP_RIGHT,autoClose:2000});window.location.href=\"/app/cloud-chart\";}).catch(function(error){_this.setState({isLoding:false});handleServerErrors(error,toast.error);});};_this.deleteKeyword=function(id){_this.setState({isLoding:true},function(){RestAPI.deletekeyword(id).then(function(response){var newvalue=_this.state.keywordData.filter(function(v,i){return v.id!==id;});_this.setState({isLoding:false,keywordData:_toConsumableArray(newvalue)});toast.success(\"Keyword Deleted!\",{position:toast.POSITION.TOP_RIGHT,autoClose:2000});_this.getKeywords();}).catch(function(error){_this.setState({isLoding:false});handleServerErrors(error,toast.error);});});};return _this;}_createClass(Keyword,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({isLoding:true},function(){_this2.getKeywords();});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"order-xl-1\",xl:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-white border-0\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"Edit Interest Page\"),/*#__PURE__*/React.createElement(\"p\",null,\"In this page you can add your interests which we haven\\u2019t explored or remove the interests which you think it\\u2019s not correct. You can also rate for them from 1-5 to define the importance of your interests. Note that only top 15 interests will be visualized in the word cloud.\")))),this.state.isLoding?/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\",style:{padding:\"20px\"}},/*#__PURE__*/React.createElement(Loader,{type:\"Puff\",color:\"#00BFFF\",height:100,width:100})):/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,method:\"post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},this.state.rows.map(function(item,idx){return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"5\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"keyword\",name:\"name\",required:true,value:_this3.state.rows[idx].name,onChange:_this3.handleChangeKeyword(idx),placeholder:\"Add Keyword\",type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"5\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",name:\"weight\",value:_this3.state.rows[idx].weight,onChange:_this3.handleChangeWeight(idx),placeholder:\"Weight \",type:\"Number\",required:true,min:\"1\",max:\"5\",step:\"0.1\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"2\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-outline-danger btn-sm\",style:{marginTop:\"8px\"},onClick:_this3.handleRemoveSpecificRow(_this3.state.rows[idx].id,idx)},\"Remove\"))));})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",margin:\" 0 53px 0 25px\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(\"div\",{align:\"left\"},/*#__PURE__*/React.createElement(Button,{style:{color:\"green\"},type:\"button\",onClick:this.handleAddRow},\"Add\")),/*#__PURE__*/React.createElement(\"div\",{align:\"right\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",type:\"submit\"},\" \",\"Save\",\" \"))))))))));}}]);return Keyword;}(React.Component);export default Keyword;","map":{"version":3,"sources":["C:/Users/franc/Desktop/Interest-Miner/Frontend/src/views/Keyword.js"],"names":["React","toast","Loader","handleServerErrors","RestAPI","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","Header","Keyword","state","keywordData","rows","name","weight","id","Weight","isLoding","isDisabled","handleChangeWeight","idx","e","newKeywords","map","data","sidx","target","value","setState","handleChangeKeyword","handleAddRow","item","handleRemoveSpecificRow","deleteKeyword","splice","getKeywords","cloudChart","then","response","rowArray","i","length","push","keyword","inputs","document","getElementsByTagName","disabled","catch","error","handleSubmit","preventDefault","addKeyword","success","position","POSITION","TOP_RIGHT","autoClose","window","location","href","deletekeyword","newvalue","filter","v","padding","marginTop","display","margin","justifyContent","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n// react plugin used to create google maps\nimport { toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport { handleServerErrors } from \"utils/errorHandler\";\nimport RestAPI from \"../services/api\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col,\n} from \"reactstrap\";\n\n// core components\nimport Header from \"components/Headers/Header.js\";\n\nclass Keyword extends React.Component {\n  state = {\n    keywordData: [],\n    rows: [{ name: \"\", weight: null, id: \"\" }],\n    name: \"\",\n    Weight: null,\n    isLoding: false,\n    isDisabled: true,\n  };\n\n  componentDidMount() {\n    this.setState({ isLoding: true }, () => {\n      this.getKeywords();\n    });\n  }\n\n  handleChangeWeight = (idx) => (e) => {\n    const newKeywords = this.state.rows.map((data, sidx) => {\n      if (idx !== sidx) return data;\n      return { ...data, weight: e.target.value };\n    });\n    this.setState({ rows: newKeywords });\n  };\n\n  handleChangeKeyword = (idx) => (e) => {\n    const newKeywords = this.state.rows.map((data, sidx) => {\n      if (idx !== sidx) return data;\n      return { ...data, name: e.target.value };\n    });\n    this.setState({ rows: newKeywords });\n  };\n\n  handleAddRow = () => {\n    const item = {\n      name: \"\",\n      weight: null,\n      id: \"\",\n    };\n    this.setState({\n      rows: [...this.state.rows, item],\n    });\n  };\n\n  handleRemoveSpecificRow = (id, idx) => () => {\n    if (id) {\n      this.deleteKeyword(id);\n    } else {\n      const rows = [...this.state.rows];\n      rows.splice(idx, 1);\n      this.setState({ rows });\n    }\n  };\n\n  getKeywords = () => {\n    RestAPI.cloudChart()\n      .then((response) => {\n        let rowArray = [];\n        if (response && response.data) {\n          for (let i = 0; i < response.data.length; i++) {\n            rowArray.push({\n              name: response.data[i].keyword,\n              weight: response.data[i].weight,\n              id: response.data[i].id,\n            });\n          }\n        }\n        this.setState({\n          isLoding: false,\n          rows: rowArray,\n        });\n        var inputs = document.getElementsByTagName(\"Input\");\n        for (var i = 0; i < inputs.length; i++) {\n          if (inputs[i].id === \"keyword\") {\n            inputs[i].disabled = true;\n          }\n        }\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    RestAPI.addKeyword(this.state.rows)\n      .then((response) => {\n        toast.success(\"Your Changes Has Been Successfully Updated!\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 2000,\n        });\n        window.location.href = \"/app/cloud-chart\";\n      })\n      .catch((error) => {\n        this.setState({ isLoding: false });\n        handleServerErrors(error, toast.error);\n      });\n  };\n\n  //** DELETE A Keyword **//\n  deleteKeyword = (id) => {\n    this.setState({ isLoding: true }, () => {\n      RestAPI.deletekeyword(id)\n        .then((response) => {\n          const newvalue = this.state.keywordData.filter((v, i) => v.id !== id);\n          this.setState({\n            isLoding: false,\n            keywordData: [...newvalue],\n          });\n\n          toast.success(\"Keyword Deleted!\", {\n            position: toast.POSITION.TOP_RIGHT,\n            autoClose: 2000,\n          });\n          this.getKeywords();\n        })\n        .catch((error) => {\n          this.setState({ isLoding: false });\n          handleServerErrors(error, toast.error);\n        });\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <Header />\n\n        <Container className=\"mt--7\" fluid>\n          <Row>\n            <Col className=\"order-xl-1\" xl=\"12\">\n              <Card className=\"bg-secondary shadow\">\n                <CardHeader className=\"bg-white border-0\">\n                  <Row className=\"align-items-center\">\n                    <Col xs=\"12\">\n                      <h3 className=\"mb-0\">Edit Interest Page</h3>\n                      <p>\n                        In this page you can add your interests which we haven’t\n                        explored or remove the interests which you think it’s\n                        not correct. You can also rate for them from 1-5 to\n                        define the importance of your interests. Note that only\n                        top 15 interests will be visualized in the word cloud.\n                      </p>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                {this.state.isLoding ? (\n                  <div className=\"text-center\" style={{ padding: \"20px\" }}>\n                    <Loader\n                      type=\"Puff\"\n                      color=\"#00BFFF\"\n                      height={100}\n                      width={100}\n                    />\n                  </div>\n                ) : (\n                  <CardBody>\n                    <Form onSubmit={this.handleSubmit} method=\"post\">\n                      <div className=\"pl-lg-4\">\n                        {this.state.rows.map((item, idx) => (\n                          <Row>\n                            <Col lg=\"5\">\n                              <FormGroup>\n                                <Input\n                                  className=\"form-control-alternative\"\n                                  id=\"keyword\"\n                                  name=\"name\"\n                                  required\n                                  value={this.state.rows[idx].name}\n                                  onChange={this.handleChangeKeyword(idx)}\n                                  placeholder=\"Add Keyword\"\n                                  type=\"text\"\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col lg=\"5\">\n                              <FormGroup>\n                                <Input\n                                  className=\"form-control-alternative\"\n                                  name=\"weight\"\n                                  value={this.state.rows[idx].weight}\n                                  onChange={this.handleChangeWeight(idx)}\n                                  placeholder=\"Weight \"\n                                  type=\"Number\"\n                                  required\n                                  min=\"1\"\n                                  max=\"5\"\n                                  step=\"0.1\"\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col lg=\"2\">\n                              <FormGroup>\n                                <Button\n                                  className=\"btn btn-outline-danger btn-sm\"\n                                  style={{ marginTop: \"8px\" }}\n                                  onClick={this.handleRemoveSpecificRow(\n                                    this.state.rows[idx].id,\n                                    idx\n                                  )}\n                                >\n                                  Remove\n                                </Button>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        ))}\n                      </div>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          margin: \" 0 53px 0 25px\",\n                          justifyContent: \"space-between\",\n                        }}\n                      >\n                        <div align=\"left\">\n                          <Button\n                            style={{ color: \"green\" }}\n                            type=\"button\"\n                            onClick={this.handleAddRow}\n                          >\n                            Add\n                          </Button>\n                        </div>\n\n                        <div align=\"right\">\n                          <Button color=\"primary\" type=\"submit\">\n                            {\" \"}\n                            Save{\" \"}\n                          </Button>\n                        </div>\n                      </div>\n                    </Form>\n                  </CardBody>\n                )}\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Keyword;\n"]},"metadata":{},"sourceType":"module"}